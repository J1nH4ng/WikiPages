import{q as y,u as w,au as A,x as _,_ as P,y as T,c as S,n as x,o as D,S as g,av as R,aw as b,ax as L,ay as M,az as I,aA as k,aB as O,aC as B,aD as $,aE as q,d as F,v as H,aF as U,aG as V,aH as j,a2 as z}from"./chunks/framework.Dr7m8lqR.js";import{au as p,av as G}from"./chunks/theme.BeGV7sQO.js";const N=async a=>{try{p.registerExternalDiagrams&&await p.registerExternalDiagrams(a)}catch(e){console.error(e)}},W=async(a,e,t)=>{p.initialize(t);const{svg:n}=await p.render(a,e);return n},J=["innerHTML"],K={__name:"Mermaid",props:{graph:{type:String,required:!0},id:{type:String,required:!0},class:{type:String,required:!1,default:"mermaid"}},setup(a){const e=y({securityLevel:"loose",startOnLoad:!1,externalDiagrams:[]}),{page:t}=w(),{frontmatter:n}=A(t.value),o=n.mermaidTheme||"",l=a,h=y(null);let m=null;_(async()=>{var c;await N(e.value.externalDiagrams);let s=await P(()=>import("./chunks/virtual_mermaid-config.DDnGl6nM.js"),[]);s!=null&&s.default&&(e.value=s.default),m=new MutationObserver(async()=>await d()),m.observe(document.documentElement,{attributes:!0}),await d(),((c=/<img([\w\W]+?)>/.exec(decodeURIComponent(l.graph)))==null?void 0:c.length)>0&&setTimeout(()=>{let f=document.getElementsByTagName("img"),v=Array.from(f);v.length&&Promise.all(v.filter(u=>!u.complete).map(u=>new Promise(E=>{u.onload=u.onerror=E}))).then(async()=>{await d()})},100)}),T(()=>m.disconnect());const d=async()=>{const s=document.documentElement.classList.contains("dark");let i={...e.value};o&&(i.theme=o),s&&(i.theme="dark");let c=await W(l.id,decodeURIComponent(l.graph),i);const f=Math.random().toString(36).substring(7);h.value=`${c} <span style="display: none">${f}</span>`};return(s,i)=>(D(),S("div",{innerHTML:h.value,class:x(l.class)},null,10,J))}};function C(a){if(a.extends){const e=C(a.extends);return{...e,...a,async enhanceApp(t){e.enhanceApp&&await e.enhanceApp(t),a.enhanceApp&&await a.enhanceApp(t)}}}return a}const r=C(G),Q=F({name:"VitePressApp",setup(){const{site:a,lang:e,dir:t}=w();return _(()=>{H(()=>{document.documentElement.lang=e.value,document.documentElement.dir=t.value})}),a.value.router.prefetchLinks&&U(),V(),j(),r.setup&&r.setup(),()=>z(r.Layout)}});async function X(){globalThis.__VITEPRESS__=!0;const a=Z(),e=Y();e.provide(b,a);const t=L(a.route);return e.provide(M,t),e.component("Mermaid",K),e.component("Content",I),e.component("ClientOnly",k),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return t.frontmatter.value}},$params:{get(){return t.page.value.params}}}),r.enhanceApp&&await r.enhanceApp({app:e,router:a,siteData:O}),{app:e,router:a,data:t}}function Y(){return q(Q)}function Z(){let a=g,e;return B(t=>{let n=$(t),o=null;return n&&(a&&(e=n),(a||e===n)&&(n=n.replace(/\.js$/,".lean.js")),o=import(n)),g&&(a=!1),o},r.NotFound)}g&&X().then(({app:a,router:e,data:t})=>{e.go().then(()=>{R(e.route,t.site),a.mount("#app")})});export{X as createApp};
